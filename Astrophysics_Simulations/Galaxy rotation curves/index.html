<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Galaxy Rotation Curves</title>
    <link rel="stylesheet" href="styles.css" />
</head>
<body>
    <header class="site-header">
        <div class="container">
            <h1>Galaxy Rotation Curves</h1>
            <p class="lead">Compare observed stellar rotation with Newtonian predictions to illustrate dark matter</p>
        </div>
    </header>

    <main class="container">
        <section id="purpose">
            <h2>Purpose</h2>
            <p>
                Demonstrate the rotation curves of galaxies, comparing observed velocities of stars with the predictions from visible matter alone. Highlight the role of dark matter in explaining the flat rotation curves at large radii.
            </p>
        </section>

        <section id="background">
            <h2>Scientific Background</h2>
            <p>
                According to Newtonian gravity, the rotational velocity v(r) of a star orbiting a galaxy depends on the enclosed mass: 
                <span class="formula">v(r) = sqrt(G * M(r) / r)</span>.
                Observations show velocities remain high at large radii, implying unseen "dark matter" halo.
            </p>
        </section>

        <section id="methodology">
            <h2>Methodology</h2>
            <ol>
                <li>Define radial grid representing galaxy radii.</li>
                <li>Compute rotation curves for disk (visible matter) using exponential disk model.</li>
                <li>Compute halo rotation curve assuming isothermal sphere for dark matter.</li>
                <li>Combine disk and halo curves for total velocity.</li>
                <li>Simulate observed velocities with small random noise.</li>
                <li>Animate tracers moving along the curves to visualize rotation velocities dynamically.</li>
            </ol>
        </section>

        <section id="pseudocode">
            <h2>Pseudocode</h2>
            <pre><code>
Define radial grid r
Compute V_disk from exponential disk
Compute V_halo from dark matter halo
Compute total V_total = sqrt(V_disk^2 + V_halo^2)
Simulate observed velocities with noise
Initialize moving tracers
For each animation frame:
    Move tracers along the curves
    Update plot
            </code></pre>
        </section>

        <section id="python-code">
            <h2>Python Simulation Code</h2>
            <pre><code>
import numpy as np
import matplotlib.pyplot as plt
from matplotlib.animation import FuncAnimation

plt.style.use("dark_background")


r = np.linspace(0.1, 15, 300)  # kpc, radial distance
G = 4.302e-6  # kpc/Msun (km/s)^2

# Disk: exponential surface density
Md = 6e10  # solar masses
Rd = 3.0   # kpc
V_disk = np.sqrt(G * Md * (1 - np.exp(-r/Rd)*(1+r/Rd))/r)

# Halo: simple isothermal sphere
Mh = 1e12
Rh = 10.0
V_halo = np.sqrt(G * Mh * r / (r**2 + Rh**2))

# Total rotation curve
V_total = np.sqrt(V_disk**2 + V_halo**2)

# Observed "data" (simulate noisy)
V_obs = V_total + np.random.normal(0, 10, len(r))

fig, ax = plt.subplots(figsize=(10,6))
ax.set_xlim(0, 15)
ax.set_ylim(0, 300)
ax.set_xlabel("Radius (kpc)")
ax.set_ylabel("Velocity (km/s)")
ax.set_title("Galaxy Rotation Curves - Disk + Halo + Observed")
ax.grid(alpha=0.3)

# Plot curves
line_disk, = ax.plot(r, V_disk, 'c--', label="Disk Only")
line_halo, = ax.plot(r, V_halo, 'm--', label="Halo Only")
line_total, = ax.plot(r, V_total, 'y-', label="Total (Disk + Halo)")
line_obs, = ax.plot(r, V_obs, 'w.', label="Observed")

# Animated tracers
tracer_disk, = ax.plot([], [], 'co', markersize=8)
tracer_halo, = ax.plot([], [], 'mo', markersize=8)
tracer_total, = ax.plot([], [], 'yo', markersize=8)
tracer_obs, = ax.plot([], [], 'wo', markersize=6)

ax.legend()

def animate(i):
    tracer_disk.set_data([r[i]], [V_disk[i]])
    tracer_halo.set_data([r[i]], [V_halo[i]])
    tracer_total.set_data([r[i]], [V_total[i]])
    tracer_obs.set_data([r[i]], [V_obs[i]])
    return tracer_disk, tracer_halo, tracer_total, tracer_obs


ani = FuncAnimation(fig, animate, frames=len(r), interval=50, blit=True)
plt.show()

            </code></pre>
        </section>

        <section id="explanation">
            <h2>Explanation</h2>
            <p>
                - Disk curve: contribution from visible matter (cyan dashed).<br>
                - Halo curve: dark matter contribution (magenta dashed).<br>
                - Total curve: combination of disk and halo (yellow solid).<br>
                - Observed data: simulated points (white dots).<br>
                - Animated tracers show velocity at each radius dynamically.
            </p>
        </section>

        <section id="expected-output">
            <h2>Expected Output</h2>
            <p>
                Animated plot showing moving points along rotation curves. Total velocity remains flat at large radii, matching observed points, highlighting the need for dark matter.
            </p>
            <div class="animation-placeholder">
                <p><video src="Recording 2025-11-30 183853.mp4" width="1000px" controls></video></p>
            </div>
        </section>
    </main>

    <script src="script.js"></script>
</body>
</html>
